webpackJsonp([28],{CYWS:function(a,t,e){t=a.exports=e("FZ+f")(!1),t.push([a.i,'\n.tool-box[data-v-3d3a6f4c]{color:#3c8dbc\n}\n.tool-box [class^="el-icon-"][data-v-3d3a6f4c],.tool-box [class*=" el-icon-"][data-v-3d3a6f4c]{margin:0 5px\n}\n.icon-lg[data-v-3d3a6f4c]{font-size:60px;color:#3c8dbc;padding:30px 0\n}\n.msg-content[data-v-3d3a6f4c]{border:1px solid #ddd;padding:0 0px 10px 10px\n}\n.data-list li[data-v-3d3a6f4c]{border-bottom:1px solid #ddd;padding-left:10px;line-height:40px\n}\n.set-pop[data-v-3d3a6f4c] .el-form-item__content{text-align:left\n}\n.custom-tree-node[data-v-3d3a6f4c]{display:block;width:100%;height:100%;padding-right:20px\n}\n.custom-tree-node .btn-box[data-v-3d3a6f4c]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%\n}\n.btn-box[data-v-3d3a6f4c] [class^="el-icon-"],.btn-box[data-v-3d3a6f4c] [class*=" el-icon-"]{font-size:16px;font-weight:900\n}\n.el-form[data-v-3d3a6f4c]{display:-webkit-box;display:-ms-flexbox;display:flex\n}\n',""])},FBpV:function(a,t,e){var n=e("CYWS");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("rjj0")("bbdd140e",n,!0)},"p9Y+":function(a,t,e){"use strict";function n(a){e("FBpV")}Object.defineProperty(t,"__esModule",{value:!0});var s=e("TtmE"),i=e("D7x1"),l=(e("mtWM"),{name:"home",data:function(){var a=this;return{currentPage:1,total:0,tableData:[],tableLabel:[{label:"楼栋名称",param:"buildingName",align:"center",sortable:!0,isshow:!0},{label:"楼栋呼叫编码",param:"buildingId",align:"center",sortable:!0,isshow:!0},{label:"单元名称",param:"unitName",align:"center",sortable:!0,isshow:!0},{label:"单元呼叫编码",param:"unitId",align:"center",isshow:!0,sortable:!0},{label:"房号名称",param:"houseName",align:"center",sortable:!0,isshow:!0},{label:"房号呼叫编码",param:"houseId",align:"center",sortable:!0,isshow:!0},{slot:"operate",isshow:!0}],dataForm:{appId:"",search:"",pageNum:1,pageSize:10},isShowSelect:!1,cascaderData:[],groupProps:{children:"groups",label:"name",value:"id",checkStrictly:!0,expandTrigger:"hover"},cascaderKey:1,loading:!1,prop:{lazy:!0,checkStrictly:!0,lazyLoad:function(t,e){setTimeout(function(){0==t.level?a.utils.http({url:"/base/house/buildingsList",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a.utils.changeJson({appId:a.appId})},function(a){if(200==a.code&&a.data){var t=a.data.map(function(a,t){return{value:a.id,label:a.name}});e(t)}}):(console.log(t),a.utils.http({url:"/base/house/buildingsList",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a.utils.changeJson({appId:a.appId,deviceGroupId:t.data.value})},function(a){if(200==a.code&&a.data){var t=a.data.map(function(a,t){return{value:a.id,label:a.name}});e(t)}}))},1e3)}}}},computed:{appId:{get:function(){return this.$store.state.project.projectId},set:function(a){this.$store.commit("changeProjectId",a)}}},watch:{appId:function(a,t){this.appId=a,this.dataForm={appId:a,search:"",pageNum:1,pageSize:10},++this.cascaderKey,this.getTableData(),this.getLeftData()}},filters:{},created:function(){},components:{MsgBox:s.a,TableCmp:i.a},mounted:function(){this.appId&&(this.dataForm.appId=this.appId,this.getTableData(),this.getLeftData())},methods:{elCascaderOnlick:function(){var a=this;setTimeout(function(){document.querySelectorAll(".el-cascader-node__label").forEach(function(t){t.onclick=function(){this.previousElementSibling.click(),a.$refs.elcascader.dropDownVisible=!1}}),document.querySelectorAll(".el-cascader-panel .el-radio").forEach(function(t){t.onclick=function(){a.$refs.elcascader.dropDownVisible=!1}})},100)},getTableData:function(){var a=this;this.loading=!0,this.utils.http({url:"/base/call/record/page",method:"POST",data:this.dataForm},function(t){a.loading=!1,200==t.code&&(a.total=t.data.total,a.tableData=t.data.records,a.currentPage=t.data.current)})},resetBtn:function(){this.dataForm={appId:this.appId,search:"",pageNum:1,pageSize:10},this.getTableData()},getLeftData:function(){var a=this;this.cascaderData=[],this.utils.http({url:"/base/house/list",method:"GET",params:{appId:this.appId}},function(t){200==t.code&&t.data.groups&&(a.cascaderData=t.data.groups)})},cascaderChange:function(a){a&&(this.dataForm.search=a[a.length-1])},handleSizeChange:function(a){this.dataForm.pageSize=a,this.getTableData()},handleCurrentChange:function(a){this.dataForm.pageNum=a,this.getTableData()}}}),o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"content-wrapper"},[a._m(0),a._v(" "),e("section",{staticClass:"content container-fluid"},[e("div",{staticClass:"box box-primary"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"box-body"},[e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("div",{},[e("el-cascader",{key:a.cascaderKey,ref:"elcascader",staticStyle:{width:"100%"},attrs:{placeholder:"楼栋/单元/房间",clearable:"",options:a.cascaderData,props:a.groupProps},on:{"visible-change":a.elCascaderOnlick,"expand-change":a.elCascaderOnlick,change:a.cascaderChange},model:{value:a.dataForm.search,callback:function(t){a.$set(a.dataForm,"search",t)},expression:"dataForm.search"}})],1)])]),a._v(" "),e("div",{staticClass:"col-md-4 pr-0"},[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-primary",attrs:{id:"btn_device_search",type:"button"},on:{click:a.getTableData}},[e("span",{staticClass:"glyphicon glyphicon-search",attrs:{"aria-hidden":"true"}}),a._v("查询\n              ")]),a._v(" "),e("button",{staticClass:"btn btn-default",attrs:{id:"btn_device_reset",type:"button"},on:{click:a.resetBtn}},[e("span",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),a._v("重置\n              ")])])])]),a._v(" "),e("table-cmp",{ref:"tableChild",attrs:{"table-data":a.tableData,"table-label":a.tableLabel,"is-show-select":a.isShowSelect}}),a._v(" "),e("div",{staticClass:"block mt-10"},[e("el-pagination",{attrs:{"current-page":a.currentPage,"page-sizes":[10,15,20,25],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:a.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)],1)])])])},c=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",{staticClass:"content-header"},[e("h1",{staticClass:"nice"},[a._v("\n      基础设置 - 呼叫编码\n      ")]),a._v(" "),e("ol",{staticClass:"breadcrumb"},[e("li",[e("a",{attrs:{href:"/"}},[e("i",{staticClass:"glyphicon glyphicon-home"}),a._v(" 首页\n        ")])]),a._v(" "),e("li",[e("i",{staticClass:"glyphicon glyphicon-cog"}),a._v(" 基础设置\n      ")]),a._v(" "),e("li",{staticClass:"active"},[e("i",{staticClass:"glyphicon glyphicon-adjust"}),a._v(" 呼叫编码\n      ")])])])}],r={render:o,staticRenderFns:c},d=r,p=e("VU/8"),h=n,u=p(l,d,!1,h,"data-v-3d3a6f4c",null);t.default=u.exports}});