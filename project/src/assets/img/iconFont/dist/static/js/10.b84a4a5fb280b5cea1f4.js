webpackJsonp([10],{"+uN+":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"\n.add-h4[data-v-2239f43c]{padding-left:10px;margin-left:20px;border-left:5px solid #007aff\n}\n.avatar-uploader .el-upload[data-v-2239f43c]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden\n}\n.avatar-uploader .el-upload[data-v-2239f43c]:hover{border-color:#409EFF\n}\n.avatar-uploader-icon[data-v-2239f43c]{font-size:28px;color:#8c939d;width:148px;height:148px;line-height:148px;text-align:center;border:1px dashed #c0ccda\n}\n.avatar[data-v-2239f43c]{width:148px;height:148px;display:block\n}\n",""])},i079:function(t,e,a){"use strict";function i(t){a("twiz")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("TtmE"),s=a("D7x1"),o=a("5Wmi"),n={name:"home",data:function(){return{msg:"通道规则",currentPage:1,popVisible:!1,popTitle:"提示",popContent:"这个是内容",total:0,multipleSelection:[],tableData:[],tableLabel:[{label:"序号",param:"img",align:"center",sortable:!0,isshow:!0,index:!0},{label:"账单名称",param:"billName",align:"center",sortable:!0,isshow:!0,width:"150"},{slot:"operate1",isshow:!0,label:"附件"},{label:"发送房间",param:"houseName",align:"center",isshow:!0,sortable:!0,width:"150"},{label:"创建时间",param:"createTime",align:"center",sortable:!0,isshow:!0,width:"150"},{slot:"operate",isshow:!0}],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:"",timeArr:[],isShwoSelect:!0,dataForm:{appId:"",pageSize:10,pageNum:1,billName:"",houseId:""},loading:!1,cascaderData:[],groupProps:{children:"groups",label:"name",value:"id",checkStrictly:!0,expandTrigger:"hover"},previewImg:[],showViewer:!1,imgurl:"",timer:null,cascaderKey:1}},computed:{appId:{get:function(){return this.$store.state.project.projectId},set:function(t){this.$store.commit("changeProjectId",t)}}},watch:{appId:function(t,e){this.appId=t,this.dataForm={appId:t,pageSize:10,pageNum:1,billName:"",houseId:""},++this.cascaderKey,this.getTableData(),this.getLeftData()}},filters:{},created:function(){this.imgurl=this.tools.global.API_URL},components:{MsgBox:l.a,TableCmp:s.a,ElImageViewer:o.a},mounted:function(){this.appId&&(this.dataForm.appId=this.appId,this.getTableData(),this.getLeftData())},methods:{elCascaderOnlick:function(){var t=this;setTimeout(function(){document.querySelectorAll(".el-cascader-node__label").forEach(function(e){e.onclick=function(){this.previousElementSibling.click(),t.$refs.elcascader.dropDownVisible=!1}}),document.querySelectorAll(".el-cascader-panel .el-radio").forEach(function(e){e.onclick=function(){t.$refs.elcascader.dropDownVisible=!1}})},100)},consoleSelect:function(){console.log(this.$refs.tableChild.selectData)},gotoEdit:function(t){alert(t)},open:function(){var t=this;this.timer=setTimeout(function(){t.popVisible=!1,clearTimeout(t.timer)},3e3)},clearSetTimeOut:function(){clearTimeout(this.timer)},getTableData:function(){var t=this;this.loading=!0,this.utils.http({url:"/property/bill/pageAll",method:"POST",data:this.dataForm},function(e){t.loading=!1,200==e.code&&(t.total=e.data.total,t.tableData=e.data.records,t.currentPage=e.data.current)})},getLeftData:function(){var t=this;this.utils.http({url:"/base/house/list",method:"GET",params:{appId:this.appId}},function(e){200==e.code&&e.data&&(t.cascaderData=e.data.groups)})},resetBtn:function(){this.dataForm={appId:this.appId,pageSize:10,pageNum:1,billName:"",houseId:""},this.getTableData()},deleteBill:function(t){var e=this,a=[];if(t)a.push(t);else{this.$refs.tableChild.selectData.forEach(function(t,e){a.push(t.id)})}0==a.length?(this.popVisible=!0,this.popTitle="提示",this.popContent="请先选择要删除的账单",this.open()):this.$confirm("您确信删除选中的账单?","确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.utils.http({url:"/property/bill/batchDelete",method:"POST",data:{ids:a}},function(t){200==t.code&&(e.utils.tip("success","删除成功"),e.getTableData())})}).catch(function(){})},onPreview:function(t){var e=this;this.previewImg=[],t.split(",").forEach(function(t,a){var i=e.imgurl+"/file/download?path="+t;e.previewImg.push(i)}),this.showViewer=!0},closeViewer:function(){this.showViewer=!1},cascaderChange:function(t){t&&(this.dataForm.houseId=t[t.length-1])},handleSizeChange:function(t){this.dataForm.pageSize=t,this.getTableData()},handleCurrentChange:function(t){this.dataForm.pageNum=t,this.getTableData()},goAdd:function(){this.$router.push({path:"/addbill",query:{type:"1"}})}}},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrapper"},[t._m(0),t._v(" "),a("section",{staticClass:"content container-fluid"},[a("div",{staticClass:"box box-primary"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-body"},[a("div",{staticClass:"form-horizontal"},[a("div",{staticClass:"col-lg-2 pl-0"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-md-12"},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"搜索账单名称"},model:{value:t.dataForm.billName,callback:function(e){t.$set(t.dataForm,"billName",e)},expression:"dataForm.billName"}})],1)])]),t._v(" "),a("div",{staticClass:"col-lg-2"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-md-12"},[a("el-cascader",{key:t.cascaderKey,ref:"elcascader",staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"楼栋/单元/房间",options:t.cascaderData,props:t.groupProps},on:{"visible-change":t.elCascaderOnlick,"expand-change":t.elCascaderOnlick,change:t.cascaderChange},model:{value:t.dataForm.houseId,callback:function(e){t.$set(t.dataForm,"houseId",e)},expression:"dataForm.houseId"}})],1)])]),t._v(" "),a("div",{staticClass:"col-lg-4 pr-0"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-primary",attrs:{id:"btn_device_search",type:"button"},on:{click:t.getTableData}},[a("span",{staticClass:"glyphicon glyphicon-search",attrs:{"aria-hidden":"true"}}),t._v("查询\n                        ")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{id:"btn_device_reset",type:"button"},on:{click:t.resetBtn}},[a("span",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),t._v("重置\n                        ")])])])]),t._v(" "),a("div",{staticClass:"btn-group-box",staticStyle:{width:"100%"},attrs:{id:"toolbar"}},[a("div",{staticClass:"btn-group col-lg-5 pl-0",attrs:{"data-toggle":"buttons"}},[a("button",{staticClass:"btn btn-default",attrs:{id:"btn_add",type:"button"},on:{click:t.goAdd}},[a("span",{staticClass:"glyphicon glyphicon-plus",attrs:{"aria-hidden":"true"}}),t._v("新增\n                      ")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{id:"btn_delete",type:"button"},on:{click:function(e){t.deleteBill("")}}},[a("span",{staticClass:"glyphicon glyphicon-remove",attrs:{"aria-hidden":"true"}}),t._v("批量删除\n                      ")])])]),t._v(" "),a("table-cmp",{ref:"tableChild",attrs:{"table-data":t.tableData,"table-label":t.tableLabel,"is-show-select":t.isShwoSelect}},[a("el-table-column",{attrs:{slot:"operate1",label:"附件",align:"center",width:"100"},slot:"operate1",scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"see-files",on:{click:function(a){t.onPreview(e.row.billImage)}}},[t._v("查看")])]}}])}),t._v(" "),a("el-table-column",{attrs:{slot:"operate",label:"操作",align:"center",width:"150"},slot:"operate",scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[a("el-button",{attrs:{title:"删除",type:"danger",icon:"el-icon-delete",round:"",size:"mini"},on:{click:function(a){t.deleteBill(e.row.id)}}})],1)]}}])})],1),t._v(" "),a("div",{staticClass:"block mt-10"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,15,20,25],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])]),t._v(" "),t.showViewer?a("el-image-viewer",{attrs:{"on-close":t.closeViewer,"url-list":t.previewImg}}):t._e(),t._v(" "),a("msg-box",{attrs:{popVisible:t.popVisible,popTitle:t.popTitle,popContent:t.popContent},on:{"update:popVisible":function(e){t.popVisible=e}}})],1)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content-header"},[a("h1",{staticClass:"nice"},[t._v("\n      物业服务 - 物业账单\n        ")]),t._v(" "),a("ol",{staticClass:"breadcrumb"},[a("li",[a("a",{attrs:{href:"/"}},[a("i",{staticClass:"glyphicon glyphicon-home"}),t._v(" 首页\n          ")])]),t._v(" "),a("li",[a("i",{staticClass:"glyphicon glyphicon-list-alt"}),t._v(" 物业服务\n        ")]),t._v(" "),a("li",{staticClass:"active"},[a("i",{staticClass:"glyphicon glyphicon-adjust"}),t._v(" 物业账单\n        ")])])])}],d={render:r,staticRenderFns:c},p=d,u=a("VU/8"),h=i,b=u(n,p,!1,h,"data-v-2239f43c",null);e.default=b.exports},twiz:function(t,e,a){var i=a("+uN+");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("97caeb1a",i,!0)}});